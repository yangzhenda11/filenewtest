<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
	<!--<![endif]-->
	<!-- BEGIN HEAD -->

	<head>
		<meta charset="UTF-8">
		<title>公用业务发起页面</title>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="renderer" content="webkit">
		<meta http-equiv="Expires" content="0">
		<meta http-equiv="Pragma" content="no-cache">
		<meta http-equiv="Cache-control" content="no-cache,must-revalidate">
		<link rel="stylesheet" type="text/css" href="/static/plugins/bootstrap/css/bootstrap.css?t=1530864218401" />
		<link rel="stylesheet" type="text/css" href="/static/plugins/font-awesome/css/font-awesome.min.css?t=1530864218401" />
		<link rel="stylesheet" type="text/css" href="/static/css/iconfont/iconfont.css?t=1530864218401" />
		<link rel="stylesheet" type="text/css" href="/static/plugins/datatables/datatables.min.css?t=1530864218401" />
		<link rel="stylesheet" type="text/css" href="/static/plugins/zTree/css/zTreeStyle/zTreeStyle.css?t=1530864218401" />
		<link rel="stylesheet" type="text/css" href="/static/plugins/zTree/css/metroStyle/metroStyle.css?t=1530864218401">
		<link rel="stylesheet" type="text/css" href="/static/plugins/bootstrapValidator/css/bootstrapValidator.min.css?t=1530864218401" />
		<link rel="stylesheet" type="text/css" href="/static/css/adminui.css?t=1530864218401" />
		<link rel="stylesheet" type="text/css" href="/static/css/custom.css?t=1530864218401" />
	</head>

	<body>
		<div class="page-content">
			<div class="portlet">
				<div class="portlet-title">
					<div class="caption font-dark">
						<span class="caption-subject bold uppercase">流程发起页面--业务编辑页面 </span>
					</div>
				</div>
				<div class="portlet-body">
					<!--引入流程启动公共界面  -->
					<div id="startProcess"></div>

					<div class="toolbarBtn">
						<div id="toolbarBtnContent">
							<button id="showPanel" type="button" class="btn blue" onclick="flowStart();">发起</button>
							<button id="showPanel" type="button" class="btn purple" onclick="businessPush();">业务功能入口模拟流程推动的提交</button>
							<button id="showPanel" type="button" class="btn red" onclick="pushReceiveTask();">后台自动任务模拟提交</button>
							<button id="showPanel" type="button" class="btn blue" onclick="applyCandidateTask();">后台申领任务</button>
						</div>
					</div>
					<div class="toolbarBtn">
						<div id="toolbarBtnContent">
							<button id="showPanel" type="button" class="btn red" onclick="startBybussType();">根据业务类型后台模拟启动流程</button>
							<button id="showPanel" type="button" class="btn purple" onclick="startFlowAuto();">手动触发后台轮询发起流程任务</button>
							<button id="showPanel" type="button" class="btn red" onclick="checkFlow();">手动创建工单的验证</button>
						</div>
					</div>
					<div class="form-fieldset">
						<div class="form-fieldset-title">
							<span><i class="iconfont icon-layers"></i> 业务信息</span>
							<div class="form-fieldset-tools">
								<a href="#" class="form-collapse"><i class="fa fa-angle-up"></i></a>
							</div>
						</div>
						<div class="form-fieldset-body">
							<div class="row defaultFieldsetForm">
								<div class="col-sm-6 form-group">
									<label for="processDefinitionKeyForStart" class="control-label">请选择流程模板：<i class="iconfont icon-mi required"></i></label>
									<div class="valiParent">
										<!-- 业务页面所必须的流程Key定义 -->
										<select class="form-control" id="processDefinitionKeyForStart" name="processDefinitionKeyForStart" data-placeholder="选择流程模板" onchange="setFlowKey();">
											<option value="" selected="selected">--请选择--</option>
											<option value="Contractsan1Process">合同扫描上传验证流程（1）</option>
											<option value="Contractsan2Process">合同扫描上传验证流程（2）</option>
											<option value="Contractproject1Process">工单创建失败的提醒流程</option>
											<option value="Contractproject2Process">工单处理流程（新）</option>
											<option value="ContractscanProcess">合同扫描上传验证流程（整体）</option>
											<option value="ContractprojectProcess">工单创建流程（旧）</option>
											<option value="ReleasePoint">普通审批</option>
											<option value="Vote">投票会签</option>
											<option value="M_main">主子流程_分离</option>
											<option value="Main_Sub">主子流程</option>
											<option value="testProcess">候选人抢单流程</option>
										</select>
									</div>
								</div>
								<div class="col-sm-6 form-group">
									<label for="taskTitle" class="control-label">待办标题：<i class="iconfont icon-mi required"></i></label>
									<div class="valiParent">
										<input type="text" class="form-control" id="taskTitle" value="" />
									</div>
								</div>
								<div class="col-sm-6 form-group">
									<label for="taskBusinessKey" class="control-label">业务主键：<i class="iconfont icon-mi required"></i></label>
									<div class="valiParent">
										<input type="text" class="form-control" id="taskBusinessKey" value="" />
									</div>
								</div>
								<div class="col-sm-6 form-group">
									<label for="processDefinitionKeyForStart" class="control-label">后台任务的触发条件：<i class="iconfont icon-mi required"></i></label>
									<div class="valiParent">
										<!-- 业务页面所必须的流程Key定义 -->
										<select class="form-control" id="receiveStatus" name="receiveStatus" data-placeholder="选择后台任务触发状态">
											<option value="" selected="selected">--请选择--</option>
											<option value="1">后台验证失败-触发重新验证</option>
											<option value="2">后台验证成功-触发验证确认</option>
										</select>
									</div>
								</div>
								<div class="col-sm-6 form-group">
									<label for="processDefinitionKeyForStart" class="control-label">工单创建流程启动的路由值：<i class="iconfont icon-mi required""></i></label>
									<div class="valiParent">
										<!-- 业务页面所必须的流程Key定义 -->
										<select class="form-control" id="projectPathselect" name="projectPathselect" data-placeholder="选择后台任务触发状态" onchange="setProjectPath();">
											<option value="0" selected="selected">工单创建成功-默认路由值0</option>
											<option value="1">工单创建失败提醒-路由值1</option>
										</select>
									</div>
								</div>
								<div class="col-sm-6 form-group">
									<label for="staffSelectType" class="control-label">控制人员的单选还是多选：<i class="iconfont icon-mi required"></i></label>
									<div class="valiParent">
										<!-- 业务页面所必须的流程Key定义 -->
										<select class="form-control" id="staffSelectType" name="staffSelectType" data-placeholder="" onchange="resetStaffSelectType();">
											<option value="1">默认单选</option>
											<option value="2">设置为多选</option>
										</select>
									</div>
								</div>
								<div class="col-sm-6 form-group">
									<label for="businessType" class="control-label">业务类型（用于选择启动模板）：<i class="iconfont icon-mi required"></i></label>
									<div class="valiParent">
										<input type="text" class="form-control" id="businessType" value="" />
									</div>
								</div>
								<div class="col-sm-6 form-group">
									<label for="businessType" class="control-label">业务类型（用于检查这个流程是否在运行，与业务主键组合使用）：<i class="iconfont icon-mi required"></i></label>
									<div class="valiParent">
										<input type="text" class="form-control" id="businessTypeNew" value="" />
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!--基础依赖-->
		<script src="/static/plugins/jquery-1.12.4.min.js?t=1530864218401" type="text/javascript" charset="utf-8"></script>
		<script src="/static/plugins/bootstrap/js/bootstrap.min.js?t=1530864218401" type="text/javascript" charset="utf-8"></script>
		<script src="/static/plugins/jquery-slimscroll/jquery.slimscroll.min.js?t=1530864218401" type="text/javascript" charset="utf-8"></script>
		<script src="/static/plugins/layer/layer.js?t=1530864218401" type="text/javascript" charset="utf-8"></script>
		<script src="/static/plugins/My97DatePicker/WdatePicker.js?t=1530864218401" type="text/javascript" charset="utf-8"></script>
		<!--业务依赖-->
		<script src="/static/plugins/datatables/datatables.js?t=1530864218401" type="text/javascript" charset="utf-8"></script>
		<script src="/static/plugins/datatables/ellipsis.js?t=1530864218401"></script>
		<script src="/static/plugins/bootstrapValidator/js/bootstrapValidator.js?t=1530864218401" type="text/javascript" charset="utf-8"></script>
		<script src="/static/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js?t=1530864218401" type="text/javascript" charset="utf-8"></script>
		<script src="/static/plugins/bootstrap-datepicker/locales/bootstrap-datepicker.zh-CN.min.js?t=1530864218401" type="text/javascript" charset="utf-8"></script>
		<script src="/static/plugins/zTree/js/jquery.ztree.all.min.js?t=1530864218401" type="text/javascript" charset="utf-8"></script>
		<script src="/static/plugins/date-format.js?t=1530864218401" type="text/javascript" charset="utf-8"></script>
		<script src="/static/plugins/handlebars-v3.0.1.js?t=1530864218401" type="text/javascript" charset="utf-8"></script>
		<script src="/static/js/app.js?t=1530864218401" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript" src="/html/workflow/sample/common-detail.js?t=1530864218401"></script>
	</body>

</html>