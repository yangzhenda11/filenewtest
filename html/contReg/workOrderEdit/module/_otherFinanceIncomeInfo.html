<div class="form-fieldset">
	<div class="form-fieldset-title">
		<span><i class="iconfont icon-layers"></i> 其他财务约定</span>
		<div class="form-fieldset-tools">
			<a href="#" class="form-collapse"><i class="fa fa-angle-up"></i></a>
		</div>
	</div>
	<div class="form-fieldset-body" id="promiseIncomeForm">
		<div class="row fieldsetForm15">
			<input type="hidden" name="promiseId" id="promiseId" value="100000" />
			<div class="col-sm-12 form-group">
				<label for="penaltyPromise" class="control-label">滞纳金/违约金约定：</label>
				<div class="valiParent">
					<textarea id="penaltyPromise" name="penaltyPromise" class="form-control" maxlength="2000"></textarea>
				</div>
			</div>
			<div class="col-sm-12 form-group">
				<label for="securityPromise" class="control-label">履约保证金/押金约定：</label>
				<div class="valiParent">
					<textarea id="securityPromise" name="securityPromise" class="form-control" maxlength="2000"></textarea>
				</div>
			</div>
			<div class="col-sm-12 form-group">
				<label for="specialPromise" class="control-label">特殊付款约定：</label>
				<div class="valiParent">
					<textarea id="specialPromise" name="specialPromise" class="form-control" maxlength="2000"></textarea>
				</div>
			</div>
		</div>
	</div>
</div>
<script type="text/javascript">
	/*
	 * 设置页面的id值，由保存和提交后回调
	 */
	function setPageId_promiseIncomeId(value){
		$("#promiseId").val(value);
	}
	/*
	 * 返回本页面数据，若无返回{}，若不提交本页面的值可删除此方法
	 * isSubmit 提交时为true,判断页面是否要加逻辑上的验证(bootstrap-validator验证除外)
	 */
	function getValue_promiseIncome(isSubmit){
		var promiseIncomeData = App.getFormValues($("#promiseIncomeForm"));
		promiseIncomeData.wcardId = wcardId;
		promiseIncomeData.contractNumber = contractNumber;
		return promiseIncomeData;
	}
	/*
	 * isEdit 判断页面是否只能查看
	 */
	if(!isEdit){
		$("#promiseIncomeForm").find("textarea").attr("disabled","disabled");
	};
	//获取其他财务约定
	getPromiseIncome();
	/*
	 * 获取其他财务约定
	 */
	function getPromiseIncome(){
		var url = serverPath + "contractOrderEditorController/getPromiseIncomeId";
		var postData = JSON.stringify({wcardId:wcardId});
		App.formAjaxJson(url, "post", postData, successCallback);
		function successCallback(result) {
			var data = result.data;
			App.setFormValues("#promiseIncomeForm",data);
		}
	}
</script>