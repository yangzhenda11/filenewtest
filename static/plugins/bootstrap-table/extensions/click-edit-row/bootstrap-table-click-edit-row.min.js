!function(t){"use strict";function e(e,i){var n=t("<option />");i?t(i).each(function(t,i){n.clone().text(i.idxNum+" "+i.name).val(i.idxNum).appendTo(e)}):console.log("Please setup options first!!")}function i(i,n){var a=[],o=i,d='<button type="button" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"></i></button>',l='<button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"></i></button>',s=function(){return a=[],n.find("td").find('input[type="text"]').each(function(e,i){a.push(t(i).eq(0).val())}),n.find("select").each(function(e,i){a.push(t("#"+i.id+" option:selected").val())}),t("#table").bootstrapTable("updateRow",{index:o.$data.thId,row:{noOld:a[0],area:n.find("select").eq(0).children(":selected").text(),town:n.find("select").eq(1).children(":selected").text(),address:a[1]}}),t("#tooling").remove(),o.editing=!0,!1},c=function(){return t("#table").bootstrapTable("updateRow",{index:o.$data.thId,row:{}}),t("#tooling").remove(),o.editing=!0,!1};if(o.editing){o.editing=!1,o.columns.forEach(function(i){if(i.editable)switch(i.editable){case"input":var o=t('<div class="editable-input col-md-12 col-sm-12 col-xs-12" style="position: relative;"/>');a.push(n.find("td").eq(i.fieldIndex).text()),o.append(t('<input type="text" class="form-control input-sm"/>')),o.append(t('<span class="clear"><i class="fa fa-times-circle-o" aria-hidden="true"></i></span>')),n.find("td").eq(i.fieldIndex).text("").append(o);break;case"select":var d=t('<select id="'+i.field+'">'),l=t.selectArray[i.field];n.find("td").eq(i.fieldIndex).text("").append(d),e(t("#"+i.field),l);break;case"textarea":break;default:console.log(i.fieldIndex+" "+i.editable)}},i);for(var p=0,r=a.length;r>p;p++)n.find('input[type="text"]').eq(p).val(a[p]);n.find("td").last().append('<div id="tooling" class="editable-buttons"/>'),t(".clear").on("click",function(){t(this).parent().find("input").val("")}),t(d).on("click",s).appendTo("#tooling"),t(l).on("click",c).appendTo("#tooling")}}t.extend(t.fn.bootstrapTable.defaults,{clickEdit:!1});var n=t.fn.bootstrapTable.Constructor,a=n.prototype.initTable,o=n.prototype.initBody;n.prototype.initTable=function(){this.$data={},a.apply(this,Array.prototype.slice.apply(arguments)),!this.options.clickEdit},n.prototype.initBody=function(){var t=this;if(o.apply(this,Array.prototype.slice.apply(arguments)),this.options.clickEdit){var e=this.$tableBody.find("table");t.editing=!0,e.on("click-row.bs.table",function(t,e,n,a){"no"!==a&&(this.$data.thId=n.data().index,this.$data.itemid=n.data().uniqueid,this.$data.divi=parseInt(e.area),this.$data.town=parseInt(e.town),i(this,n))}.bind(this))}}}(jQuery);