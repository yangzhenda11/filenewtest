function saveStaffOrgRoles(){var t="";$("option",$("#havingRoles"+curTabstaffKind)).each(function(){t+=$(this).attr("value")+","});var a=$("#selectedStaffOrgId"+curTabstaffKind).val(),e={roleIds:t,staffOrgId:a,createBy:curStaffId};$.ajax({url:serverPath+"/staffs/"+staffId+"/staffOrgs/"+a+"/staffRoles",type:"PUT",contentType:"application/json",data:JSON.stringify(e),success:function(){returnStaffOrgList(),alert("保存成功！")},error:function(){alert("添加失败o_o请重试...")}})}var curTabstaffKind=$("#curTabstaffKind").val();$(function(){$("#havingRoles").empty(),$("#notHavingRoles").empty();var t=$("#selectedStaffId"+curTabstaffKind).val(),a=$("#selectedStaffOrgId"+curTabstaffKind).val();$.get(serverPath+"/staffs/"+t+"/staffOrgs/"+curStaffOrgId+"/staffRoles/"+a,{},function(t){for(var a=t.data.havingRoles,e=t.data.notHavingRoles,f=0;f<a.length;f++)$("#havingRoles"+curTabstaffKind).append($('<option value="'+a[f].ROLE_ID+'">'+a[f].ROLE_NAME+"</option>"));for(var f=0;f<e.length;f++)$("#notHavingRoles"+curTabstaffKind).append($('<option value="'+e[f].ROLE_ID+'">'+e[f].ROLE_NAME+"</option>"));$("#notHavingRoles"+curTabstaffKind).multiselect({keepRenderingSort:!0,right:"#havingRoles"+curTabstaffKind,rightAll:"#rightAll"+curTabstaffKind,rightSelected:"#rightSelected"+curTabstaffKind,leftSelected:"#leftSelected"+curTabstaffKind,leftAll:"#leftAll"+curTabstaffKind,undo:"#notHavingRoles_undo"+curTabstaffKind,search:{left:'<input type="text" name="q" class="form-control" style="margin-bottom:10px" placeholder="查询待选..." />',right:'<input type="text" name="q" class="form-control" style="margin-bottom:10px" placeholder="查询已选..." />'},fireSearch:function(t){return t.length>0}})})});