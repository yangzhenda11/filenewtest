!function(e){e.ProgressBar=function(t){this.element=e(t.boundingBox),t.on&&t.on.complete&&(this.onComplete=t.on.complete),t.on&&t.on.valueChange&&(this.onValueChange=t.on.valueChange),this._create(),t.label&&this.set("label",t.label),t.value&&this.value(t.value),t.max&&this.set("max",t.max)},e.ProgressBar.prototype={options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=e("<div class='ui-progressbar-label'></div>").appendTo(this.element),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this._value():(this._setOption("value",e),this)},_setOption:function(t,i){"value"===t?(this.options.value=i,this._refreshValue(),this.onValueChange&&this.onValueChange.apply(this,[{oldVal:this.oldValue,newVal:i}]),this._value()===this.options.max&&this.onComplete&&this.onComplete.apply(this)):"label"===t?e(this.element).find(".ui-progressbar-label").html(i):"max"===t&&(this.options.max=i)},_value:function(){var e=this.options.value;return"number"!=typeof e&&(e=0),Math.min(this.options.max,Math.max(this.min,e))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var e=this.value(),t=this._percentage();this.oldValue!==e&&(this.oldValue=e),this.valueDiv.toggle(e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.attr("aria-valuenow",e)},set:function(e,t){this._setOption(e,t)}}}(jQuery);