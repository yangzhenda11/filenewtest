function creatGd(){alert("创建工单哦，你点了我要消失了哦！"),parent.showOrhideButton("cjgdButton",!1)}function modal_passBybuss(e){console.log("flowParam:"+e),alert(e),$.post(serverPath+"business/breakAndStartProcess",e,function(e){layer.alert(e.sign+"（业务开发人员自定义提示消息有无及内容）")})}function modal_pass(e,t,s,n,a,r,i,o,l){$.post(e+"business/pushProcess",{processInstanceId:n,taskId:a,taskDefinitionKey:t,assignee:s,comment:r,handleType:i,withdraw:o,nowtaskDefinitionKey:$("#taskDefinitionKey").val(),title:$("#BusinessTile").val(),iscandidate:l},function(e){layer.msg(e.sign),parent.modal_close()})}function modal_return(e,t,s){$.post(e+"business/withdrawProcess",{processInstanceId:t,taskId:s},function(e){layer.msg(e.sign+"（业务开发人员自定义提示消息有无及内容）"),parent.modal_close()})}function modal_stop(e,t,s,n){$.post(e+"business/breakProcess",{processInstanceId:t,taskId:s,comment:n},function(e){layer.alert(e.sign+"（业务开发人员自定义提示消息有无及内容）"),parent.modal_close()})}function selectAssignee(e,t){alert(e?"业务侧示例，转派操作，将公共页面“下环节处理人信息”处理完成":"业务侧示例，将公共页面“下环节处理人信息”处理完成，本次接受到的环节ID为："+t),$("#assignee").val(10001),$("#assigneeName").val("示例：处理人")}function setRelativeData(){return!1}function beforePushProcess(){var e=!0,t={prov:"sd"};parent.setAssigneeParam(t);var s=$("#ifshenpi").val();parent.setPathSelect(s);var n=$("#staffSelectType").val();return parent.setStaffSelectType(n),e}function beforeTransfer(){var e=!0,t={prov:"sd"};return parent.setAssigneeParam(t),e}function getQueryString(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),s=window.location.search.substr(1).match(t);return null!=s?unescape(s[2]):null}function setStaffSelectType(){var e=$("#staffSelectType").val();parent.setStaffSelectType(e)}function setComment(){var e=$("#BusinessInfo").val();return e}function pushProcessByuser(){parent.setUserButton(!0)}function modal_passBybuss(e){var t=serverPath,s=e.taskDefinitionKey,n=e.assignee,a=e.processInstanceId,r=e.taskId,i=e.comment,o=e.handleType,l=e.withdraw,c=e.iscandidate;$.post(t+"business/breakAndStartProcess",{processInstanceId:a,taskId:r,taskDefinitionKey:s,assignee:n,comment:i,handleType:o,withdraw:l,nowtaskDefinitionKey:$("#taskDefinitionKey").val(),title:"",iscandidate:c},function(e){layer.msg(e.sign),parent.modal_close()})}function modal_passQxsp(e){var t=serverPath,s=e.taskDefinitionKey,n=e.assignee,a=e.processInstanceId,r=e.taskId,i=e.comment,o=e.handleType,l=e.withdraw,c=e.iscandidate;$.post(t+"business/qxspAndpushProcess",{processInstanceId:a,taskId:r,taskDefinitionKey:s,assignee:n,comment:i,handleType:o,withdraw:l,nowtaskDefinitionKey:$("#taskDefinitionKey").val(),title:"",iscandidate:c},function(e){layer.msg(e.sign),parent.modal_close()})}var parm=App.getPresentParm(),taskFlag=parm.taskFlag;$(function(){var e="/html/workflow/sample/business-task-tab.html";parent.addCustomTab({title:"多tab测试",url:e});var t="/html/workflow/sample/business-task-tab.html";parent.addCustomTab({title:"多tab测试1",url:t}),console.log("businessKey="+getQueryString("businessKey"));var s=getQueryString("taskDefinitionKey");"YZQR"==s&&parent.setUserButton(!0,getQueryString("businessKey")),"GDCL"==s&&(parent.setQxspButton(!0,getQueryString("businessKey")),parent.setUserBtName("passButton","注册完成"),parent.setUserBtName("backTolist","关闭")),"GDQR"==s&&(parent.setUserBtName("passButton","工单激活"),parent.setUserBtName("backButton","退回承办人")),"db"==taskFlag&&parent.addCustomBt("cjgdButton","创建工单","creatGd")});var config=top.globalConfig,serverPath=config.serverPath;