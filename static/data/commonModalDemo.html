<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
	<!--<![endif]-->
	<!-- BEGIN HEAD -->

	<head>
		<meta charset="UTF-8">
		<title></title>
		<!--[if IE 8]>
		<meta http-equiv="X-UA-Compatible" content="IE=8">
		<![endif]-->
		<!--[if gt IE 8]>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<![endif]-->
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="renderer" content="webkit">
		<meta http-equiv="Expires" content="0">
		<meta http-equiv="Pragma" content="no-cache">
		<meta http-equiv="Cache-control" content="no-cache,must-revalidate">
		<link rel="stylesheet" type="text/css" href="../../../static/plugins/bootstrap/css/bootstrap.css" />
		<link rel="stylesheet" type="text/css" href="../../../static/plugins/font-awesome/css/font-awesome.min.css" />
		<link rel="stylesheet" type="text/css" href="../../../static/css/iconfont/iconfont.css" />
		<link rel="stylesheet" type="text/css" href="../../../static/plugins/datatables/datatables.min.css" />
		<link rel="stylesheet" type="text/css" href="../../../static/plugins/zTree/css/metroStyle/metroStyle.css">
		<link rel="stylesheet" type="text/css" href="../../../static/plugins/bootstrap-fileinput/fileinput.min.css" />
		<link rel="stylesheet" type="text/css" href="../../../static/css/adminui.css" />
		<link rel="stylesheet" type="text/css" href="../../../static/css/custom.css" />
	</head>

	<body>
		<div class="page-content">
			<div class="portlet">
				<div class="portlet-title">
					<div class="caption font-dark">
						<span class="caption-subject bold uppercase"> 公共弹窗demo</span>
					</div>
				</div>
				<div class="portlet-body" style="overflow: hidden;">
					<div class="col-sm-4">
						<div class="input-group">
							<span class="input-group-addon searchLableText">合同类型</span>
							<input id="contractType" name="contractType" type="text" class="form-control" value="" />
							<span class="input-group-addon custorPoint" id="searchContractType"><i class="iconfont icon-search1"></i></span>
						</div>
					</div>
					<div class="col-sm-4">
						<div class="input-group">
							<span class="input-group-addon searchLableText">选择承办人</span>
							<input id="agentStaff" name="agentStaff" type="text" class="form-control" value="" />
							<span class="input-group-addon custorPoint" id="searchAgentStaff"><i class="iconfont icon-search1"></i></span>
						</div>
					</div>
					<div class="col-sm-4">
						<div class="input-group">
							<span class="input-group-addon searchLableText">选择承办部门</span>
							<input id="agentDepartment" name="agentDepartment" type="text" class="form-control" value="" />
							<span class="input-group-addon custorPoint" id="searchAgentDepartment"><i class="iconfont icon-search1"></i></span>
						</div>
					</div>
					<div style="margin-top: 15px;float: left;">
						<div class="col-sm-4">
							<div class="input-group">
								<span class="input-group-addon searchLableText">合同编号</span>
								<input id="contractDataSearch" name="contractDataSearch" type="text" class="form-control" value="" />
								<span class="input-group-addon custorPoint" id="searchContractData"><i class="iconfont icon-search1"></i></span>
							</div>
						</div>
						<div class="col-sm-4">
							<div class="input-group">
								<span class="input-group-addon searchLableText">我方主体</span>
								<input id="ourSubject" name="ourSubject" type="text" class="form-control" value="" />
								<span class="input-group-addon custorPoint" id="searchOurSubject"><i class="iconfont icon-search1"></i></span>
							</div>
						</div>
						<div class="col-sm-4">
							<div class="input-group">
								<span class="input-group-addon searchLableText">对方主体</span>
								<input id="otherSubject" name="otherSubject" type="text" class="form-control" value="" />
								<span class="input-group-addon custorPoint" id="searchOtherSubject"><i class="iconfont icon-search1"></i></span>
							</div>
						</div>
					</div>

					<div class="file col-sm-4">
						<label style="float: left;">文件上传1-bootstrapfileinput:</label>
						<div class="col-sm-5">
							<input id="fileUpload" name="fileUpload" type="text" disabled="" class="form-control" value="" />
						</div>
						<div class="col-sm-4">
							<button class="btn red" onclick="fileUpload()">选择</button>
						</div>
					</div>
					<div class="file col-sm-4">
						<label style="float: left;">文件上传2-ajaxfileupload:</label>
						<div class="col-sm-5">
							<input id="ajaxfileupload" name="ajaxfileupload" type="text" disabled="" class="form-control" value="" />
						</div>
						<div class="col-sm-4">
							<button class="btn red" onclick="ajaxfileupload()">选择</button>
						</div>
					</div>
					<div class="col-sm-4">
						<button class="btn red" onclick="fileImport()">文件导入</button>
					</div>
					<button class="btn red" onclick="downloadText(testDemo)">下载生成文件</button>
					<div class="form-fieldset" style="clear: both;">
						<div class="form-fieldset-title">
							<span><i class="iconfont icon-layers"></i> demo1</span>
							<div class="form-fieldset-tools">
								<a class="form-collapse"><i class="fa fa-angle-up"></i></a>
							</div>
						</div>
						<div class="form-fieldset-body">
							<button class="btn red" onclick="initselectLR()">左右选择</button>
						</div>
					</div>
					<div class="form-fieldset">
						<div class="form-fieldset-title">
							<span><i class="iconfont icon-layers"></i> demo2</span>
							<div class="form-fieldset-tools">
								<a class="form-collapse"><i class="fa fa-angle-up"></i></a>
							</div>
						</div>
						<div class="form-fieldset-body">
							<div id="scyleDom" style="height: 300px;">
								<div id="im1" style="height: 300px;width: 50%;"></div>
							</div>
							<div id="scyleDom" style="height: 500px;">
								<div id="im2" style="height: 300px;width: 600px;"></div>
							</div>
						</div>
					</div>
					<div class="form-fieldset">
						<div class="form-fieldset-title">
							<span><i class="iconfont icon-layers"></i> demo3</span>
							<div class="form-fieldset-tools">
								<a class="form-collapse"><i class="fa fa-angle-down"></i></a>
							</div>
						</div>
						<div class="form-fieldset-body" style="display: none;height: 500px;">
							<div>测试折叠</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!--modal-->
		<div class="modal fade" id="commomModal" role="dialog" aria-hidden="true" data-backdrop="static"></div>
		<!--[if lt IE 9]>
		  	<script src="../../../static/plugins/html5shiv.min.js"></script>
		  	<script src="../../../static/plugins/respond.min.js"></script>
		  	<script src="../../../static/plugins/ie8.fix.min.js"></script>
		<![endif]-->
		<!--[if lte IE 8]>
			<script src="../../../static/plugins/selectivizr-min.js"></script>
		<![endif]-->
		<!--基础依赖-->
		<script src="../../../static/plugins/jquery-1.12.4.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../../static/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../../static/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../../static/plugins/datatables/datatables.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../../static/plugins/datatables/ellipsis.js"></script>
		<script src="../../../static/plugins/selectL2R.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../../static/plugins/imageview/echarts.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../../static/plugins/imageview/echarts-gl.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../../static/plugins/imageview/raphael.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../../static/plugins/imageview/sycle.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../../static/plugins/jQueryliestxz/js/list-script.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../../static/plugins/zTree/js/jquery.ztree.all.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../../static/plugins/layer/layer.js" type="text/javascript" charset="utf-8"></script>
		<!--<script src="../../../static/plugins/bootstrap-fileinput/formdata.min.js" type="text/javascript" charset="utf-8"></script>-->
		<script src="../../../static/plugins/bootstrap-fileinput/fileinput.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../../static/plugins/jquery.form.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../../static/plugins/ajaxfileupload/ajaxfileupload.js" type="text/javascript" charset="utf-8"></script>
		<script src="/static/plugins/FileSaver.js?t=1542597351738" type="text/javascript" charset="utf-8"></script>
		<script src="/static/js/app.js?t=1542597351738" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			var testDemo = "测试测试测试";
			// 导出生成文本
		    function downloadText(data) {
		        var blob = new Blob([JSON.stringify(data)], { type: "text/plain;charset=utf-8" });
		        saveAs(blob, "hello.txt");
		    }
			
			function initselectLR() {
				var options = {
					modalId: "#commomModal",
					data: [{
							id: "测试1",
							data: "测试1",
							checked: true
						},
						{
							id: "测试2",
							data: "测试2",
							checked: true
						},
						{
							id: "测试3",
							data: "测试3"
						},
						{
							id: "测试4",
							data: "测试4",
							checked: true
						},
						{
							id: "测试5",
							data: "测试5"
						},
						{
							id: "测试6",
							data: "测试6"
						},
						{
							id: "测试7",
							data: "测试7"
						}
					]
				}
				$.initSelectLRFn(options);
			}
			/*
			 * 点击确定回调的页面方法
			 */
			function returnSelectLRData(data) {
				console.log(data);
			}
			var myChart1 = echarts.init(document.getElementById('im1'));
			var option1 = {
				title: {
					text: "订单付款",
					left: "center",
					subtext: "截止2018年5月订单累计含税付款情况",
					textStyle: {
						fontSize: "14"
					},
					subtextStyle: {
						color: "#444"
					}
				},
				legend: {
					orient: 'vertical',
					top: 'bottom',
					itemWidth: 12,
					itemHeight: 12,
					selectedMode: false,
					formatter: function(name) {
						return name;
					}
				},
				tooltip: {
					trigger: 'item',
					formatter: "{b}",
					confine: true
				},
				color: ['#e43a45', '#d1d1d1'],
				series: [{
					clockwise: false,
					hoverAnimation: false,
					name: '订单付款',
					silent: true,
					type: 'pie',
					radius: ['35%', '60%'],
					avoidLabelOverlap: false,
					label: {
						normal: {
							show: false,
							position: 'center',
							textStyle: {
								fontWeight: 'bold'
							},
							formatter: '{d}%'
						},
						emphasis: {
							show: true,
							textStyle: {
								fontSize: '20',
								fontWeight: 'bold'
							}
						}
					},
					labelLine: {
						normal: {
							show: false
						}
					},
					data: [{
							value: 120000,
							name: '累计订单含税付款金额：120000元'
						},
						{
							value: 100000,
							name: '累计订单含税付款金额：100000元'
						},
					]
				}]
			};
			myChart1.setOption(option1);
			myChart1.dispatchAction({
				type: 'highlight',
				dataIndex: 0,
			})
			myChart1.on("mouseout", function(params) {
				console.log(2)
			})
			myChart1.on("mouseover", function(params) {
				console.log(1)
			})
			//			$("#scyleDom").html('<div style="cursor:pointer;" class="circlebar" data-persent="0"><font>60%</font><p>测试</p></div><div style="cursor:pointer;" class="circlebar" data-persent="60"><font>60%</font><p>测试</p></div>');
			//			
			//	        animateSvgCircle({
			//	            el:'.circlebar',
			//	            width:180,
			//	            borderWidth:30
			//	        })

			var myChart = echarts.init(document.getElementById('im2'));
			var title = {
				text: '3d柱状图',
			};
			var xAxis3D = {
				type: 'value',
				interval : 10
			};
			var yAxis3D = {
				type: 'value'
			};
			var zAxis3D = {
				type: 'value'
			};
			var grid3D = {};
			var series = [{
				type: 'bar3D', //设置图表类型为3d散点图
				data: [
					[2,4,10],
					[8,4,60],
					[14,4,90],
					[20,4,50],
					[26,4,80],
					[32,4,100]
				],
				lineStyle: {
					width: 1
				}
			}, ];
			var json = {};
			json.title = title;
			json.xAxis3D = xAxis3D;
			json.yAxis3D = yAxis3D;
			json.zAxis3D = zAxis3D;
			json.grid3D = grid3D;
			json.series = series;
			// 为echarts对象加载数据
			myChart.setOption(json);

			$("#searchContractType").click(function() {
				App.getCommonModal("contractType", "#contractType", "typeFullname", "typeId");
			})
			$("#searchAgentStaff").click(function() {
				App.getCommonModal("agentStaff", "#agentStaff", "name", ["id", "parentId", "id"]);
			})
			$("#searchAgentDepartment").click(function() {
				App.getCommonModal("agentDepartment", "#agentDepartment", "orgName", "orgId");
			})
			$("#searchContractData").click(function() {
				App.getCommonModal("contractDataSearch", "#contractDataSearch", "contractNumber", ["contractId", "contractNumber", "contractName", "partyName"]);
			})
			$("#searchOurSubject").click(function() {
				App.getCommonModal("ourSubject", "#ourSubject", "partnerName", "partnerId");
			})
			$("#searchOtherSubject").click(function() {
				App.getCommonModal("otherSubject", "#otherSubject", "partnerName", "partnerId");
			})
			$("#otherSubject").on("change", function() {
				$(this).data("exactSearch", false);
			});

			function fileUpload() {
				var setting = {
					title: "文件上传测试",
					url: 'fileload/uploadFileS3', //上传地址，非空
					maxNumber: 1, //最大上传数量
					//					uploadAsync : false,   			//ajax提交是否异步提交，参数:false|true，默认为true,可为空
					//					fileExtensions:['pdf']			//上传文件类型，参数:["pdf"]多个["pdf","doc"]，默认不控制，可为空
					//					extraData:{test:123,test2:456}	//上传时额外附加的参数,业务为正文扫描件上传时要求加displayname字段，可为空
				};

				function queryCallback() { //点击确定执行的函数，必传。
					var fileInfo = getFileItemInfo(); //可以在此获取上传列表的内容，通过内置getFileItem获取；
					$("#commomModal").modal("hide"); //模态框关闭
					console.log(fileInfo);
					$("#fileUpload").val(fileInfo[0].name)
				}
				App.getFileUploadsModal(setting, queryCallback);
			}

			function ajaxfileupload() {
				var setting = {
					title: "文件上传测试",
					url: 'fileload/uploadFileS3', //上传地址，非空
					maxNumber: 3, //最大上传数量
					//fileExtensions:['pdf'],			//上传文件类型，参数:["pdf"]多个["pdf","doc"]，默认不控制，可为空
					extraData: {
						test: 123,
						test2: 456
					} //上传时额外附加的参数,业务为正文扫描件上传时要求加displayname字段，可为空
				};

				function queryCallback() { //点击确定执行的函数，必传。
					var fileInfo = getFileItemInfo(); //可以在此获取上传列表的内容，通过内置getFileItem获取；
					$("#commomModal").modal("hide"); //模态框关闭
					console.log(fileInfo);
				}
				App.getAjaxFileUploadModal(setting, queryCallback);
			}

			function fileImport() {
				var setting = {
					title: "文件导入测试",
					url: 'fileload/uploadFileS3',
					accept: ".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel", //选择文件windows打开选择类型
					postfix: ["xlsx", "xls"], //前端判读的文件类型后缀
					extraData: {
						test: 123,
						test2: 456
					} //导入时额外附加的参数
				};

				function successCallback() {
					$("#commomModal").modal("hide");
				}
				App.getFileImportModal(setting, successCallback);
			}
		</script>
	</body>

</html>