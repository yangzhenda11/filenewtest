function initScanCpyReplenishUploadTable(){App.initDataTables("#scanCpyReplenishUploadTable","#submitBtn",{ajax:{type:"POST",contentType:"application/json;charset=utf-8",url:serverPath+"contractUpload/oldContractUploadList",data:function(a){var t=getSearchParm();return a=$.extend(a,t),JSON.stringify(a)}},columns:[{data:null,title:"序号",className:"text-center",render:function(a,t,e,r){var n=App.getDatatablePaging("#scanCpyReplenishUploadTable").pageStart;return n+r.row+1}},{data:"contractName",title:"合同名称",className:"whiteSpaceNormal",width:"20%"},{data:"contractNumber",title:"合同编号",width:"10%"},{data:"executeDeptName",title:"承办部门",className:"whiteSpaceNormal",width:"15%"},{data:"undertakeName",title:"承办人"},{data:"unicomPartyName",title:"我方主体",className:"whiteSpaceNormal",width:"15%"},{data:"oppoPartyName",title:"对方主体",className:"whiteSpaceNormal",width:"15%"},{data:"approveDate",title:"审批通过时间",render:function(a){return App.formatDateTime(a,"yyyy-MM-dd")}},{data:null,className:"text-center",title:"操作",render:function(a){if(a){var t=new Array;return t.push({name:"添加",fn:"jumpContractUploadEdit('"+a.id+"')",icon:"iconfont icon-add"}),App.getDataTableBtn(t)}return""}}],columnDefs:[{createdCell:function(a,t,e,r,n){n>0&&8>n&&$(a).attr("title",$(a).text())}}]})}function jumpContractUploadEdit(a){var t="./scanCpyReplenishUploadEdit.html?pageType=2&id="+a;App.changePresentUrl(t)}function searchContractUpload(){var a=$("#scanCpyReplenishUploadTable").DataTable();a.ajax.reload()}function getSearchParm(){var a={contractNumber:$("#contractNumber").val().trim(),contractName:$("#contractName").val().trim(),approveDateBegin:$("#approveDateBegin").val().trim(),approveDateEnd:$("#approveDateEnd").val().trim()};return $("#contractTypeName").data("exactSearch")?a.typeCode=$("#contractTypeName").data("typeCode"):a.contractTypeName=$("#contractTypeName").val().trim(),$("#undertakeName").data("exactSearch")?a.undertakerId=$("#undertakeName").data("staffOrgId"):a.undertakeName=$("#undertakeName").val().trim(),$("#oppoPartyName").data("exactSearch")?a.oppoPartyId=$("#oppoPartyName").data("partnerId"):a.oppoPartyName=$("#oppoPartyName").val().trim(),a}function exportResultExcel(){var a=getSearchParm(),t=serverPath+"contractUpload/exportResultExcel"+App.urlEncode(a);location.href=encodeURI(t)}var serverPath=top.globalConfig.serverPath;$(function(){$("#searchContractType").click(function(){App.getCommonModal("contractType","#contractTypeName","typeFullname","typeCode")}),$("#searchUndertakerName").click(function(){App.getCommonModal("agentStaff","#undertakeName","name","staffOrgId")}),$("#searchOtherSubject").click(function(){App.getCommonModal("otherSubject","#oppoPartyName","partnerName","partnerId")}),initScanCpyReplenishUploadTable()}),$("#contractTypeName").on("change",function(){$(this).data("exactSearch",!1)}),$("#undertakeName").on("change",function(){$(this).data("exactSearch",!1)}),$("#oppoPartyName").on("change",function(){$(this).data("exactSearch",!1)});