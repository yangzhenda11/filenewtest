<style type="text/css">
	.fileImportModalBody .form-group{
		display:table;
	}
	.fileImportModalBody .form-group > label{
		width: 18%;
	    min-height: 1px;
	    line-height: 16px;
	    padding:0 10px 0 0;
	    vertical-align:middle;    
	    display:table-cell;
	    text-align: right;
	}
	.fileImportModalBody .form-group > .valiParent{
		width: 100%;
		float: left;
	  	position: relative;
	    min-height: 1px;
	    padding-left: 10px;
	    padding-right: 10px;
	}
</style>
<div class="modal-dialog" role="document">
	<div class="modal-content">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
			<h4 class="modal-title" id="fileUploadModalLabel"></h4>
		</div>
		<div class="modal-body fileImportModalBody">
			<form id='fileImportModalForm' action='' method='post' enctype="multipart/form-data">
	            <div class="form-group col-sm-12">
	                <label for="partnerCode" class="control-label">文件</label>
	                <div class="valiParent">
	                    <input type="file" name="file" id="file" value="" accept=""/>
	                </div>
	            </div>
	           	<div class="form-group col-sm-12">
	                <label for="partnerCode" class="control-label">上传说明</label>
	                <div class="valiParent" id="fileUpliadExplain" style="color: red;">
	                    <i class="iconfont icon-mi required"></i>删除上传成功文件列表中的文件，此文档不做上传处理。</br>
	                </div>
	            </div>
           	</form>
       </div>
		<div class="modal-footer">
			<button type="button" class="btn btn-default btn-circle" data-dismiss="modal"><i class="iconfont icon-close"></i> 关闭</button>
		</div>
	</div>
</div>

<script type="text/javascript">
	//系统全局变量获取
	var config = top.globalConfig;
	var serverPath = config.serverPath;
	function setParm(setting,successCallback){
		var fileUploadModalLabel = setting.title == undefined ? "文件导入" : setting.title;
		$("#fileUploadModalLabel").text(fileUploadModalLabel);
		$("#commomModal").modal("show");
		var emptyFn = function(){};
		var successFn = successCallback == null || successCallback == "" ? emptyFn : successCallback;
		if(setting.accept){
			alert(setting.accept);
		}
		//var accept = setting.uploadAsync == undefined ? true : setting.uploadAsync;
		var fileExtensions = [];
		
		//initFileUpload(setting.url,successFn);
	}
	
	/*
	 * 文件导入上床
	 */
	function initFileUpload(url,successFn){
		$("#fileImportModalForm").ajaxSubmit({
	        dataType: 'json',
	        url: serverPath + url,
	        resetForm: "true",
	        timeout: 30000,
	        beforeSend: function() {
	            $('#upload').html('上传中..');
	        },
	        success: function(result) {
	           	console.log(result);
	           	$('#upload').html('上传成功');
	        },
	        error: function(xhr) {
	        	console.log(result)
	        }
	   })
	}
	
</script>
