function orgUpdateSave(){var a=$("#curTaborgKind").val(),e=$("#orgUpdateForm"+a).serializeArray(),o={};$.each(e,function(a,e){o[e.name]=e.value}),o.orgKind=a,o.staffOrgId=curStaffOrgId,$.ajax({type:"PUT",url:serverPath+"orgs/",contentType:"application/json",data:JSON.stringify(o),success:function(e){alert("组织修改"+e.message),loadOrgKindTab(a)},error:function(){alert("组织修改失败")}})}function orgUpdateBackFun(a,e,o){var r=$("#curTaborgKind").val();$("input[name='parentName']",$("#orgUpdateForm"+r)).val(e),$("input[name='parentId']",$("#orgUpdateForm"+r)).val(a),$("input[name='parentCode']",$("#orgUpdateForm"+r)).val(o)}!function(a){a.fn.bootstrapValidator.validators.orgCodeCheck={html5Attributes:{message:"message",field:"field"},validate:function(){return!0}}}(window.jQuery),$(function(){var a=$("#curTaborgKind").val();$("#orgUpdateForm"+a).bootstrapValidator(orgUpdateCheckValidator),$("input[name='orgCode']","#orgUpdateForm").blur(function(){var e=$("input[name='orgCode']","#orgUpdateForm"+a).val();""!=e&&$.get(serverPath+"orgs/orgCode",{orgCode:e},function(e){if("1"==e.status)if(""==e.data||null==e.data)var o=!0;else{var o;e.data.orgId!=$("input[name='orgId']","#orgUpdateForm"+a).val()?($("#orgUpdateForm"+a).data("bootstrapValidator").updateStatus("orgCode","INVALID","orgCodeCheck"),o=!1):o=!0}else alert(e.message)})})});var orgUpdateCheckValidator={message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{orgName:{validators:{notEmpty:{message:"请输入组织名称"},stringLength:{min:0,max:64,message:"组织名称不能超过64个字符"}}},orgCode:{validators:{notEmpty:{message:"请输入组织编码"},stringLength:{min:0,max:64,message:"组织编码不能超过64位"},orgCodeCheck:{message:"此组织编号已经存在"}}}},submitHandler:function(){orgUpdateSave()}};$(function(){});