function verifyProcessTrue(){App.initDataTables("#getScanValidationListTrue","#submitBtn",{destroy:!0,ajax:{type:"POST",url:serverPath+"sysScanValidation/listSysScanValidationInfo",data:function(a){var t=$("#scanValidationForm").serializeArray();return t.forEach(function(t){a[t.name]=t.value.trim()}),$("#contractType").data("exactSearch")?a.contractTypeId=$("#contractType").data("typeId"):(a.contractTypeId="",a.contractType=$("#contractType").val()),$("#agentStaff").data("exactSearch")?a.undertakeNameId=$("#agentStaff").data("id"):(a.undertakeNameId="",a.undertakeName=$("#agentStaff").val()),$("#agentDepartment").data("exactSearch")?a.executeDeptNameId=$("#agentDepartment").data("orgId"):(a.executeDeptNameId="",a.executeDeptName=$("#agentDepartment").val()),$("#otherSubject").data("exactSearch")?a.partyNameId=$("#otherSubject").data("partnerId"):(a.partyNameId="",a.partyName=$("#otherSubject").val()),a}},columns:[{data:"contractNumber",className:"text-center",title:"序号",render:function(a,t,e,r){return r.row+1}},{data:null,title:"合同编号",className:"whiteSpaceNormal",width:"10%",render:function(a){return'<a href="javascript:void(0)" onclick = "jumpScanValidationView(\''+a.verifyId+"')\">"+a.contractNumber+"</a>"}},{data:"contractName",title:"合同名称",className:"whiteSpaceNormal",width:"15%"},{data:"typeName",title:"合同类型",className:"whiteSpaceNormal",width:"10%"},{data:"ourPartyName",title:"我方主体",className:"whiteSpaceNormal",width:"15%"},{data:"otherPartyName",title:"对方主体",className:"whiteSpaceNormal",width:"15%"},{data:"executeDeptName",title:"承办部门",className:"whiteSpaceNormal",width:"10%"},{data:"undertakeName",title:"承办人",className:"whiteSpaceNormal",width:"5%"},{data:"verifyStatus",title:"合同验证状态",className:"whiteSpaceNormal",width:"5%",render:function(a){return 903010==a?"草稿":903020==a?"审批中":903030==a?"生效":903040==a?"失效":""}},{data:"verifyVersion",className:"text-center",title:"版本号"},{data:"verifyDate",className:"text-center",title:"验证日期",render:function(a){return a.substr(0,10)}}],columnDefs:[{createdCell:function(a,t,e,r,n){n>0&&$(a).attr("title",$(a).text())}}]})}function verifyProcessFalse(){App.initDataTables("#getScanValidationListFalse","#submitBtn",{destroy:!0,ajax:{type:"POST",url:serverPath+"sysScanValidation/listSysScanValidationInfo",data:function(a){var t={};t.start=a.start,t.length=a.length;var e=$("#scanValidationForm").serializeArray();return e.forEach(function(t){a[t.name]=t.value.trim()}),a.verifyStatus="90300",$("#contractType").data("exactSearch")?a.contractTypeId=$("#contractType").data("typeId"):(a.contractTypeId="",a.contractType=$("#contractType").val()),$("#agentStaff").data("exactSearch")?a.undertakeNameId=$("#agentStaff").data("id"):(a.undertakeNameId="",a.undertakeName=$("#agentStaff").val()),$("#agentDepartment").data("exactSearch")?a.executeDeptNameId=$("#agentDepartment").data("orgId"):(a.executeDeptNameId="",a.executeDeptName=$("#agentDepartment").val()),$("#otherSubject").data("exactSearch")?a.partyNameId=$("#otherSubject").data("partnerId"):(a.partyNameId="",a.partyName=$("#otherSubject").val()),a}},columns:[{title:'<label class="ui-checkbox"><input id="checkchild" type="checkbox" /><span></span> </label>',data:"contractId",className:"whiteSpaceNormal",width:"3%",render:function(a){return'<label class="ui-checkbox"><input id="checkchild" type="checkbox" value="'+a+'" /><span></span> </label>'}},{data:"contractNumber",className:"whiteSpaceNormal text-center",width:"3%",title:"序号",render:function(a,t,e,r){return r.row+1}},{data:"contractNumber",title:"合同编号",className:"whiteSpaceNormal",width:"10%"},{data:"contractName",title:"合同名称",className:"whiteSpaceNormal",width:"15%"},{data:"typeName",title:"合同类型",className:"whiteSpaceNormal",width:"10%"},{data:"ourPartyName",title:"我方主体",className:"whiteSpaceNormal",width:"10%"},{data:"otherPartyName",title:"对方主体",className:"whiteSpaceNormal",width:"10%"},{data:"executeDeptName",title:"承办部门",className:"whiteSpaceNormal",width:"5%"},{data:"undertakeName",title:"承办人",className:"whiteSpaceNormal",width:"5%"},{data:"verifyStatus",title:"合同验证状态",className:"whiteSpaceNormal",width:"5%",render:function(a){return 903010==a?"草稿":903020==a?"审批中":903030==a?"生效":903040==a?"失效":""}},{data:"verifyVersion",className:"whiteSpaceNormal",width:"5%",title:"版本号"}],columnDefs:[{createdCell:function(a,t,e,r,n){n>1&&$(a).attr("title",$(a).text())}}]})}function listScanValidationInfo(a){if($("#scanValidationListTrue").hasClass("hidden"))var t=$("#getScanValidationListFalse").DataTable();else var t=$("#getScanValidationListTrue").DataTable();a?t.ajax.reload(null,!1):t.ajax.reload()}function jumpScanValidationView(a){var t="./scanValidationView.html?pageType=2&verifyId="+a;App.changePresentUrl(t)}function resetValiForm(){var a=$("input[name='verifyProcess']:checked").val();App.resetForm(".form-horizontal"),1==a&&($("input[name='verifyProcess'][value='1']").attr("checked",!0),$("#verifyStatus").val("9030").trigger("change"))}var config=parent.globalConfig,serverPath=config.serverPath;$("#searchContractType").click(function(){App.getCommonModal("contractType","#contractType","typeFullname","typeId")}),$("#searchAgentStaff").click(function(){App.getCommonModal("agentStaff","#agentStaff","name",["id","parentId","id"])}),$("#searchAgentDepartment").click(function(){App.getCommonModal("agentDepartment","#agentDepartment","orgName","orgId")}),$("#searchOtherSubject").click(function(){App.getCommonModal("otherSubject","#otherSubject","partnerName","partnerId")}),$("#contractType").on("change",function(){$(this).data("exactSearch",!1)}),$("#agentStaff").on("change",function(){$(this).data("exactSearch",!1)}),$("#agentDepartment").on("change",function(){$(this).data("exactSearch",!1)}),$("#otherSubject").on("change",function(){$(this).data("exactSearch",!1)}),verifyProcessTrue(),$("input[name=verifyProcess]").on("click",function(){1==$(this).val()?($("#scanValidationListTrue").addClass("hidden"),$("#startValidation,#scanValidationListFalse").removeClass("hidden"),$("#verifyStatus").val(9030).attr("disabled","").trigger("change"),verifyProcessFalse()):($("#scanValidationListTrue").removeClass("hidden"),$("#startValidation,#scanValidationListFalse").addClass("hidden"),$("#verifyStatus").val(903030).removeAttr("disabled").trigger("change"),verifyProcessTrue())});