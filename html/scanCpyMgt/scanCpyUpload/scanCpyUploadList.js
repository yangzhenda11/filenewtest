function jumpContractUploadEdit(a){var t="./scanCpyUploadEdit.html?pageType=2&id="+a;App.changePresentUrl(t)}function searchContractUpload(a){var t=$("#searchContractTable").DataTable();a?t.ajax.reload(null,!1):t.ajax.reload()}var config=top.globalConfig,serverPath=config.serverPath;App.initDataTables("#searchContractTable","#submitBtn",{ajax:{type:"POST",contentType:"application/json;charset=utf-8",url:serverPath+"contractUpload/contractUploadList",data:function(a){return $("#contractTypeName").data("exactSearch")?(a.typeId=$("#contractTypeName").data("typeId"),a.typeCode=$("#contractTypeName").data("typeCode"),a.ParentCode=$("#contractTypeName").data("ParentCode")):a.contractTypeName=$("#contractTypeName").val(),$("#undertakeName").data("exactSearch")?a.undertakerId=$("#undertakeName").data("id"):a.undertakeName=$("#undertakeName").val(),$("#oppoPartyName").data("exactSearch")?a.oppoPartyId=$("#oppoPartyName").data("partnerId"):a.oppoPartyName=$("#oppoPartyName").val(),a.contractId=config.contractId,a.contractNumber=$("#contractNumber").val(),a.contractName=$("#contractName").val(),a.approveDateBegin=$("#approveDateBegin").val(),a.approveDateEnd=$("#approveDateEnd").val(),JSON.stringify(a)}},columns:[{data:null,title:"序号",className:"text-center",render:function(a,t,e,r){return r.row+1}},{data:"contractName",title:"合同名称",className:"whiteSpaceNormal",width:"25%"},{data:"contractNumber",title:"合同编号"},{data:"executeDeptName",title:"承办部门",className:"whiteSpaceNormal",width:"13%"},{data:"undertakerId",bVisible:!1,title:"承办人"},{data:"undertakeName",title:"承办人"},{data:"unicomPartyId",bVisible:!1,title:"我方主体"},{data:"unicomPartyName",title:"我方主体",className:"whiteSpaceNormal",width:"15%"},{data:"oppoPartyId",bVisible:!1,title:"对方主体"},{data:"oppoPartyName",title:"对方主体",className:"whiteSpaceNormal",width:"15%"},{data:"id",bVisible:!1,title:"id"},{data:"approveDate",title:"审批通过时间",render:function(a){return App.formatDateTime(a,"yyyy-MM-dd")}},{data:null,className:"text-center",title:"操作",render:function(a){if(a){var t=new Array;return t.push({name:"添加",fn:"jumpContractUploadEdit('"+a.id+"')",icon:"iconfont icon-add"}),App.getDataTableBtn(t)}return""}}],columnDefs:[{createdCell:function(a,t,e,r,n){n>0&&$(a).attr("title",$(a).text())}}]}),$(function(){$("#searchContractType").click(function(){App.getCommonModal("contractType","#contractTypeName","typeFullname","typeId")}),$("#searchUndertakerName").click(function(){App.getCommonModal("agentStaff","#undertakeName","name","id")}),$("#searchOtherSubject").click(function(){App.getCommonModal("otherSubject","#oppoPartyName","partnerName","partnerId")}),$("#contractTypeName").on("change",function(){$(this).data("exactSearch",!1)}),$("#undertakeName").on("change",function(){$(this).data("exactSearch",!1)}),$("#oppoPartyName").on("change",function(){$(this).data("exactSearch",!1)})});