function getItemWidth(t){var a=0;return $(t).each(function(){a+=$(this).outerWidth(!0)}),a}function animateTab(t){var a=getItemWidth($(t).prevAll()),e=getItemWidth($(t).nextAll()),i=getItemWidth($(".content-tabs").children().not(".J_menuTabs")),n=$(".content-tabs").outerWidth(!0)-i,s=0;if($(".page-tabs-content").outerWidth()<n)s=0;else if(e<=n-$(t).outerWidth(!0)-$(t).next().outerWidth(!0)){if(n-$(t).next().outerWidth(!0)>e){s=a;for(var r=t;s-$(r).outerWidth()>$(".page-tabs-content").outerWidth()-n;)s-=$(r).prev().outerWidth(),r=$(r).prev()}}else a>n-$(t).outerWidth(!0)-$(t).prev().outerWidth(!0)&&(s=a-$(t).prev().outerWidth(!0));$(".page-tabs-content").animate({marginLeft:0-s+"px"},"fast")}function conTabA(){var t=Math.abs(parseInt($(".page-tabs-content").css("margin-left"))),a=getItemWidth($(".content-tabs").children().not(".J_menuTabs")),e=$(".content-tabs").outerWidth(!0)-a,i=0;if($(".page-tabs-content").width()<e)return!1;for(var n=$(".J_menuTab:first"),s=0;s+$(n).outerWidth(!0)<=t;)s+=$(n).outerWidth(!0),n=$(n).next();if(s=0,getItemWidth($(n).prevAll())>e){for(;s+$(n).outerWidth(!0)<e&&n.length>0;)s+=$(n).outerWidth(!0),n=$(n).prev();i=getItemWidth($(n).prevAll())}$(".page-tabs-content").animate({marginLeft:0-i+"px"},"fast")}function conTabB(){var t=Math.abs(parseInt($(".page-tabs-content").css("margin-left"))),a=getItemWidth($(".content-tabs").children().not(".J_menuTabs")),e=$(".content-tabs").outerWidth(!0)-a,i=0;if($(".page-tabs-content").width()<e)return!1;for(var n=$(".J_menuTab:first"),s=0;s+$(n).outerWidth(!0)<=t;)s+=$(n).outerWidth(!0),n=$(n).next();for(s=0;s+$(n).outerWidth(!0)<e&&n.length>0;)s+=$(n).outerWidth(!0),n=$(n).next();i=getItemWidth($(n).prevAll()),i>0&&$(".page-tabs-content").animate({marginLeft:0-i+"px"},"fast")}function conTabC(){var t=$(this).attr("href"),a=$(this).data("index"),e=$.trim($(this).text()),i=!0;if(void 0==t||0==$.trim(t).length)return!1;if($(".J_menuTab").each(function(){return $(this).data("id")==t?($(this).hasClass("active")||($(this).addClass("active").siblings(".J_menuTab").removeClass("active"),animateTab(this),$(".J_mainContent .J_iframe").each(function(){return $(this).data("id")==t?($(this).show().siblings(".J_iframe").hide(),!1):void 0})),i=!1,!1):void 0}),i){var n='<a href="javascript:;" class="active J_menuTab" data-id="'+t+'">'+e+' <i class="fa fa-times-circle"></i></a>';$(".J_menuTab").removeClass("active");var s='<iframe scrolling="no" class="J_iframe" id="iframe'+a+'" name="iframe'+a+'" width="100%" height="100%" src="'+t+'" frameborder="0" data-id="'+t+'" seamless></iframe>';$(".J_mainContent").find("iframe.J_iframe").hide().parents(".J_mainContent").append(s),$(".J_menuTabs .page-tabs-content").append(n),animateTab($(".J_menuTab.active"))}return!1}function showSubpageTab(t,a){var e=t?t:"",i=a?a:"",n="",s=!0;if(void 0==e||0==$.trim(e).length)return!1;if($(".J_menuTab").each(function(){return $(this).data("id")==e?($(this).hasClass("active")||($(this).addClass("active").siblings(".J_menuTab").removeClass("active"),animateTab(this),$(".J_mainContent .J_iframe").each(function(){return $(this).data("id")==e?($(this).show().siblings(".J_iframe").hide(),!1):void 0})),s=!1,!1):void 0}),s){var r='<a href="javascript:;" class="active J_menuTab" data-id="'+e+'">'+i+' <i class="fa fa-times-circle"></i></a>';$(".J_menuTab").removeClass("active");var o='<iframe scrolling="no" class="J_iframe" name="iframe'+n+'" width="100%" height="100%" src="'+e+'" frameborder="0" data-id="'+e+'" seamless></iframe>';$(".J_mainContent").find("iframe.J_iframe").hide().parents(".J_mainContent").append(o),$(".J_menuTabs .page-tabs-content").append(r),animateTab($(".J_menuTab.active"))}}function conTabH(){var t=$(this).parents(".J_menuTab").data("id"),a=$(this).parents(".J_menuTab").width();if($(this).parents(".J_menuTab").hasClass("active")){if($(this).parents(".J_menuTab").next(".J_menuTab").size()){var e=$(this).parents(".J_menuTab").next(".J_menuTab:eq(0)").data("id");$(this).parents(".J_menuTab").next(".J_menuTab:eq(0)").addClass("active"),$(".J_mainContent .J_iframe").each(function(){return $(this).data("id")==e?($(this).show().siblings(".J_iframe").hide(),!1):void 0});var i=parseInt($(".page-tabs-content").css("margin-left"));0>i&&$(".page-tabs-content").animate({marginLeft:i+a+"px"},"fast"),$(this).parents(".J_menuTab").remove(),$(".J_mainContent .J_iframe").each(function(){return $(this).data("id")==t?($(this).remove(),!1):void 0})}if($(this).parents(".J_menuTab").prev(".J_menuTab").size()){var e=$(this).parents(".J_menuTab").prev(".J_menuTab:last").data("id");$(this).parents(".J_menuTab").prev(".J_menuTab:last").addClass("active"),$(".J_mainContent .J_iframe").each(function(){return $(this).data("id")==e?($(this).show().siblings(".J_iframe").hide(),!1):void 0}),$(this).parents(".J_menuTab").remove(),$(".J_mainContent .J_iframe").each(function(){return $(this).data("id")==t?($(this).remove(),!1):void 0})}}else $(this).parents(".J_menuTab").remove(),$(".J_mainContent .J_iframe").each(function(){return $(this).data("id")==t?($(this).remove(),!1):void 0}),animateTab($(".J_menuTab.active"));return!1}function conTabI(){$(".page-tabs-content").children("[data-id]").not(":first").not(".active").each(function(){$('.J_iframe[data-id="'+$(this).data("id")+'"]').remove(),$(this).remove()}),$(".page-tabs-content").css("margin-left","0")}function conTabJ(){animateTab($(".J_menuTab.active"))}function conTabE(){if(!$(this).hasClass("active")){var t=$(this).data("id");$(".J_mainContent .J_iframe").each(function(){return $(this).data("id")==t?($(this).show().siblings(".J_iframe").hide(),!1):void 0}),$(this).addClass("active").siblings(".J_menuTab").removeClass("active"),animateTab(this)}}$(function(){$(".J_menuItem").each(function(t){$(this).attr("data-index")||$(this).attr("data-index",t)}),$("#actionUl").on("click",".J_menuItem",conTabC),$("#messageTip").on("click",conTabC),$(".J_menuTabs").on("click",".J_menuTab i",conTabH),$(".J_menuTabs").on("click",".J_menuTab",conTabE),$(".J_menuTabs").bind("contextmenu",function(){return!1}),$(".J_tabLeft").on("click",conTabA),$(".J_tabRight").on("click",conTabB),$(".J_tabCloseAll").on("click",function(){$(".page-tabs-content").children("[data-id]").not(":first").each(function(){$('.J_iframe[data-id="'+$(this).data("id")+'"]').remove(),$(this).remove()}),$(".page-tabs-content").children("[data-id]:first").each(function(){$('.J_iframe[data-id="'+$(this).data("id")+'"]').show(),$(this).addClass("active")}),$(".page-tabs-content").css("margin-left","0")}),$(".J_tabRefresh").click(function(){var t=$(".J_iframe:visible");t.attr("src",t.attr("src"))}),$(".J_tabCloseOther").on("click",conTabI)});