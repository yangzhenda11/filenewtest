<html>

	<head>
		<title>pdf.js展示1，上一页，下一页</title>
	</head>
	<h1>PDF.js</h1>

	<div id="test" style="width: 50%;height: 500px;overflow: auto;">
		
	</div>

	<script src="../build/pdf.js"></script>
	<script src="../build/pdf.worker.js"></script>
	<script>
		var url = '/static/data/test.pdf';

		var pdfDoc = null,
			pageNum = 1,
			pageRendering = false,
			pageNumPending = null,
			scale = 1; //缩放比例
		PDFJS.cMapUrl = 'cmaps/';
		PDFJS.cMapPacked = true;
		// Asynchronous download of PDF
		var loadingTask = PDFJS.getDocument(url);
		loadingTask.promise.then(function(pdf) {
			console.log('PDF loaded');
			for(var i = 0; i < pdf.numPages; i++) {
				//
				// 获取第i页
				//
				pdf.getPage(i).then(function getPageHelloWorld(page) {
					
					var viewport = page.getViewport(scale);

					//
					// Prepare canvas using PDF page dimensions
					//
					var canvas = document.createElement('canvas');
					var context = canvas.getContext('2d');
					canvas.height = viewport.height;
					canvas.width = viewport.width;
					// 这里拿body当pdf容器
					document.getElementById("test").appendChild(canvas);


					//
					// Render PDF page into canvas context
					//
					page.render({
						canvasContext: context,
						viewport: viewport
					});
				});
			}
		}, function(reason) {
			// PDF loading error
			console.error(reason);
		});
	</script>

</html>