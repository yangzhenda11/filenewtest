var selectL2R=function(){function e(e){var n,i=$(e).find(".selectL").children(),t=$(e).find(".selectR").children();"TABLE"==i[0].nodeName?n="tbody tr":"UL"==i[0].nodeName&&(n="li");var a=[];return t.find(n).each(function(){var e=$(this).data("id");a.push(e)}),a}var n=function(e,n){function i(e){s.find(a+"."+o).each(function(){$(this).data("id")==e&&$(this).removeClass(o)})}function t(){"tbody tr"==a&&l.find(a).each(function(e){$(this).find("td:first").text(e+1)})}var a,s=$(e).find(".selectL").children(),l=$(e).find(".selectR").children(),c=$(e).find(".selectL2R-actions"),d="warning",o="success";if("TABLE"==s[0].nodeName?(a="tbody tr",$selNode=s.find("tr")):"UL"==s[0].nodeName&&(a="li",d="list-group-item-"+d,o="list-group-item-"+o),s.find(a).on("click",function(){var e=$(this);e.hasClass(d)?e.removeClass(d):e.hasClass(o)||e.addClass(d)}),l.delegate(a,"click",function(){var e=$(this);e.hasClass(d)?e.removeClass(d):e.addClass(d)}),c.find(".selectL2R-select").on("click",function(){var e=s.find(a+"."+d);if(0==e.length)layer.alert("请先在左侧列表中选择要选择的内容",{icon:0,skin:"layer-ext-moon"});else{var n=e.removeClass(d).clone();l.append(n),t(),e.addClass(o)}}),c.find(".selectL2R-delete").on("click",function(){var e=l.find(a+"."+d);0==e.length?layer.alert("请先在右侧列表中选择要移除的内容",{icon:0,skin:"layer-ext-moon"}):e.each(function(){var e=$(this),n=e.data("id");e.remove(),i(n)})}),c.find(".selectL2R-deleteAll").on("click",function(){l.find(a).remove(),s.find(a).removeClass(o)}),c.find(".selectL2R-selectAll").on("click",function(){l.find(a).remove();var e=s.find(a).removeClass(o).removeClass(d).addClass(o);l.append(e.clone().removeClass(o)),t()}),n&&"object"==typeof n){var r=n.length;s.find(a).each(function(){for(var e=$(this),i=e.data("id"),a=0;r>a;a++)if(i==n[a]){l.append(e.clone()),t(),e.addClass(o);break}})}};return{init:function(e,i){n(e,i)},getResult:function(n){return e(n)}}}();