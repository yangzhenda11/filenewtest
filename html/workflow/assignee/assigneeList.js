function setParam(e,a,t,l,n){$("#wfflowKey").val(e),$("#wflinkCode").val(a),$("#wfprov").val(t),$("#wfcallbackFun").val(l),$("#wfstaffSelectType").val(n),chooseType=$("#wfstaffSelectType").val(),2==chooseType?($("#duoxuan").show(),tablestr='<input type="checkbox" class="checkall" />'):1==chooseType?($("#duoxuan").hide(),tablestr="操作"):($("#duoxuan").hide(),tablestr="未知"),setDataTableConfig()}function setDataTableConfig(){dataTableConfig={ajax:{type:"GET",url:serverPath+"assignee/searchMap4Page",data:function(e){return e.flowKey=$("#wfflowKey").val(),e.linkCode=$("#wflinkCode").val(),e.prov=$("#wfprov").val(),e.orgFullName=$("#searchEfOName").val(),e.staffName=$("#searchEfstaffName").val(),e.loginName=$("#loginname").val(),e}},columns:[{data:"",title:tablestr,width:"20",className:"text-center",render:function(e,a,t){if(2==chooseType)return'<input type="checkbox"  class="checkchild"  value="'+t.STAFF_ORG_ID+"-"+t.STAFF_NAME+'" />';var l="selectStaffValue('"+t.ORG_ID+"','"+t.org_code+"','"+t.full_name+"','"+t.STAFF_NAME+"','"+t.STAFF_ORG_ID+"','"+$("#wfcallbackFun").val()+"')",n={func:[{name:"选择",title:"请选择人员",fn:l,type:""}]},c=template(n);return c}},{data:"STAFF_NAME",title:"姓名",className:"text-center"},{data:"STAFF_ID",title:"人员id",className:"text-center",visible:!1},{data:"LOGIN_NAME",title:"帐号",className:"text-center"},{data:"STAFF_ORG_ID",title:"岗位id",className:"text-center",visible:!1},{data:"full_name",title:"组织机构名称",className:"text-center"},{data:"STAFF_ORG_TYPE",title:"岗位类型",className:"text-center",render:function(e){return"F"==e?"主岗":"T"==e?"兼职":"借调"}},{data:"ORG_ID",title:"组织id",className:"text-center",visible:!1},{data:"org_code",title:"组织code",className:"text-center",visible:!1},{data:"staff_sort",title:"人员排序",className:"text-center",visible:!1}]}}function selectStaffList(e){var a=$("#searchStaffTable").DataTable();e?a.ajax.reload(null,!1):a.ajax.reload()}function selectStaffValue(ORG_ID,org_code,full_name,STAFF_NAME,STAFF_ORG_ID,callbackFun){"function"==typeof eval(callbackFun)&&eval(callbackFun+"("+ORG_ID+","+org_code+",'"+full_name+"','"+STAFF_NAME+"',"+STAFF_ORG_ID+")")}function resetFun(){$("#searchEfstaffName").val(""),$("#loginname").val(""),$("#searchEfOName").val("")}function addMultiStaff(){if(funName=$("#wfcallbackFun").val(),0==$(".checkchild:checked").length)return void layer.msg("请选人员，可以多选！",{time:1e3});var ids="",names="";$(".checkchild:checked").each(function(){var e=$(this).val();e=e.split("-"),ids=ids+e[0]+",",names=names+e[1]+","}),ids=ids.substring(0,ids.length-1),names=names.substring(0,names.length-1),eval(funName+"('"+ids+"','"+names+"')")}var tablestr="",dataTableConfig={},chooseType;$(function(){$("#currentId").val(curStaffOrgId)});var searchStaffTable,btnModel='    	{{#each func}}    <button type="button" class="btn primary btn-outline btn-xs {{this.type}}" {{this.title}} onclick="{{this.fn}}">{{this.name}}</button>    {{/each}}',template=Handlebars.compile(btnModel);