function doDetail(a){$.get(serverPath+"staffs/"+a,{},function(a){var s=a.data.staffInfo;for(var e in s)if("sex"==e)$("#sexInfoObj").html("M"===s[e]?"男":"女");else if("staffStatus"==e)$("#staffStatusInfoObj").html("1"===s[e]?"有效":"无效");else if("hireDate"==e){var t=transDate(s[e]);$("#"+e+"InfoObj").html(t)}else $("#"+e+"InfoObj").html(s[e]);var l=a.data.staffOrgs;$("#staffOrgInfos").empty();for(var o in l){var t=transDate(l[o].hireDate),r=transDate(l[o].effectStartDate),n=transDate(l[o].effectEndDate);$("#staffOrgInfos").append('<div class="form-group col-sm-6"><div class="input-group">					<label class="input-group-addon">岗位名称</label>					<span class="form-control">'+l[o].orgName+"</span></div></div>"),$("#staffOrgInfos").append('<div class="form-group col-sm-6"><div class="input-group">					<label class="input-group-addon">岗位类型</label>					<span class="form-control">'+orgTypeSet[l[o].staffOrgType]+"</span></div></div>"),$("#staffOrgInfos").append('<div class="form-group col-sm-6"><div class="input-group">					<label class="input-group-addon">入职日期</label>					<span class="form-control">'+(t?t:"")+"</span></div></div>"),$("#staffOrgInfos").append('<div class="form-group col-sm-6"><div class="input-group">					<label class="input-group-addon">生效日期</label>					<span class="form-control">'+(r?r:"")+"</span></div></div>"),$("#staffOrgInfos").append('<div class="form-group col-sm-6"><div class="input-group">					<label class="input-group-addon">结束日期</label>					<span class="form-control">'+(n?n:"")+"</span></div></div>")}var f=a.data.roles;if(f.length>0){$("#roleDiv").empty();for(var o in f)$("#roleDiv").append('<div class="form-group col-sm-6"><div class="input-group">						<label class="input-group-addon">角色名称</label>						<span class="form-control">'+(f[o].roleName?f[o].roleName:"")+"</span></div></div>"),$("#roleDiv").append('<div class="form-group col-sm-6"><div class="input-group">								<label class="input-group-addon">角色描述</label>								<span class="form-control">'+(f[o].roleDesc?f[o].roleDesc:"")+"</span></div></div>")}else $("#roleDiv").detach(),$("#role").append("<h5>无角色数据</h5>");var i=a.data.permissions;if(i.length>0){$.fn.zTree.destroy("staffDetailPermtree");{$.fn.zTree.init($("#staffDetailPermtree"),{data:{simpleData:{enable:!0,idKey:"PERM_ID",pIdKey:"PARENT_ID"},key:{name:"PERM_NAME"}}},i)}}else $("#staffDetailPermtree").detach(),$("#permission").append("<h5>无权限数据</h5>");$("#infoModal").modal({show:!0}),$("#infoTab a:first").tab("show")})}function transDate(a){if(null==a){var s=new Date(a),e=s.getFullYear(),t=s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1,l=s.getDate()<10?"0"+s.getDate():s.getDate();return s=e+"-"+t+"-"+l}return a}$(document).ready(function(){$("#curTabstaffKind").val()&&!$("#mark").val()?doDetail($("#staffDetailId").val()):$("#mark").val()&&doDetail($("#staffDetailId"+$("#mark").val()).val())});var orgTypeSet={F:"主岗",T:"兼职",J:"借调"};