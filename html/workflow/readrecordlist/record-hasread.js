function serarchHasread(){searchTableHasread.ajax.reload()}function resetCondition(){$("#processTitleHasread").val(""),$("#linkNameHasread").val(""),$("#startDateHasread").val(""),$("#endDateHasread").val("")}function handleTaskHasread(e,a,t,r,s,n,d,l,i,o){$("#recordIdHasread").val(o),$("#idHasread").val(e),$("#taskDefinitionKeyHasread").val(a),$("#nameHasread").val(t),$("#processInstanceIdHasread").val(r),$("#titleHasread").val(s),$("#processDefinitionIdHasread").val(n),$("#processDefinitionKeyHasread").val(d),$("#executionIdHasread").val(l),$("#assigneeIdHasread").val(i),$("#goRecordHasReadDetailHasread").load("../workflow/readrecorddetail/record-hasread.html"),$("#searchContentHasread").hide(),$("#goRecordHasReadDetailHasread").show()}$(function(){$("#currentIdHasread").val(curStaffOrgId),searchTableHasread=$("#searchTableHasread").DataTable(dataTableConfig)});var btnModel='    	{{#each func}}    <button type="button" class="user-button btn-sm {{this.type}}" {{this.title}} {{this.fn}}>{{this.name}}</button>    {{/each}}',template=Handlebars.compile(btnModel),searchTableHasread,dataTableConfig={ordering:!1,serverSide:!0,scrollX:!0,ajax:{type:"POST",url:serverPath+"flowReadRecord/recordHasRead",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",data:function(e){return e.title=$("#processTitleHasread").val(),e.name=$("#linkNameHasread").val(),e.completeTimeStart=$("#startDateHasread").val(),e.completeTimeEnd=$("#endDateHasread").val(),e}},columns:[{data:"title",title:"流程标题",className:"text-center"},{data:"processDefinitionName",title:"流程名称",className:"text-center"},{data:"name",title:"环节名称",className:"text-center"},{data:"createTime",title:"接收时间",className:"text-center",render:function(e){return getSmpFormatDateByLong(e,!0)}},{data:"completeTime",title:"阅读时间",className:"text-center",render:function(e){return getSmpFormatDateByLong(e,!0)}},{data:null,title:"操作",className:"text-center"}],columnDefs:[{targets:"_all",defaultContent:""},{targets:-1,render:function(e,a,t){var r=$("#currentIdHasread").val(),s=t.receiverId,n="disabled",d="title=当前任务属于【"+t.orgName+"】，请切换岗位后查看",l="";r==s&&(n="",d="",l="onclick=handleTaskHasread('"+t.id+"','"+t.taskDefinitionKey+"','"+t.name+"','"+t.processInstanceId+"','"+t.title+"','"+t.processDefinitionId+"','"+t.processDefinitionKey+"','"+t.executionId+"','"+t.assignee+"','"+t.recordId+"')");var i={func:[{name:"查看",title:d,fn:l,type:n}]},o=template(i);return o}}],dom:'rt<"pull-left mt5"i><"pull-right mt5"p><"clear">'};