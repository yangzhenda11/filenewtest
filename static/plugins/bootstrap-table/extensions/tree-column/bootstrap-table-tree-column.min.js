!function(e){"use strict";e.extend(e.fn.bootstrapTable.defaults,{treeShowField:null,idField:"id",parentIdField:"pid",treeVerticalcls:"vertical",treeVerticalLastcls:"vertical last",treeSpacecls:"space",treeNodecls:"node",treeCellcls:"treenode",treeTextcls:"text",onTreeFormatter:function(e){for(var t=this,r=t.options,s=e._level||0,a=e._parent&&e._parent._level||0,o=[],l=0;a>l;l++)o.push('<i class="'+r.treeVerticalcls+'"></i>'),o.push('<i class="'+r.treeSpacecls+'"></i>');for(var l=a;s>l;l++)o.push(e._last&&l===s-1?'<i class="'+r.treeVerticalLastcls+'"></i>':'<i class="'+r.treeVerticalcls+'"></i>'),o.push('<i class="'+r.treeNodecls+'"></i>');return o.join("")},onGetNodes:function(t,r){var s=this,a=[];return e.each(r,function(e,r){t[s.options.idField]===r[s.options.parentIdField]&&a.push(r)}),a},onCheckLeaf:function(e){return void 0!==e.isLeaf?e.isLeaf:!e._nodes||!e._nodes.length},onCheckRoot:function(e){var t=this;return!e[t.options.parentIdField]}});var t=e.fn.bootstrapTable.Constructor,r=t.prototype.initRow,s=t.prototype.initHeader;t.prototype.initHeader=function(){var t=this;s.apply(t,Array.prototype.slice.apply(arguments));var r=t.options.treeShowField;r&&e.each(this.header.fields,function(e,s){if(r===s){t.treeEnable=!0;var a=t.header.formatters[e],o=[t.options.treeCellcls];return t.header.classes[e]&&o.push(t.header.classes[e].split('"')[1]||""),t.header.classes[e]='class="'+o.join(" ")+'"',t.header.formatters[e]=function(e,r){var s=[t.options.onTreeFormatter.apply(t,[r])];return s.push('<span class="'+t.options.treeTextcls+'">'),s.push(a?a.apply(this,Array.prototype.slice.apply(arguments)):e),s.push("</span>"),s.join("")},!1}})};var a=function(t,s,o,l){var i=this,n=i.options.onGetNodes.apply(i,[t,o]);t._nodes=n,l.append(r.apply(i,[t,s,o,l]));for(var p=n.length-1,c=0;p>=c;c++){var d=n[c];d._level=t._level+1,d._parent=t,c===p&&(d._last=1),a.apply(i,[d,e.inArray(d,o),o,l])}};t.prototype.initRow=function(e,t,s,o){var l=this;return l.treeEnable?l.options.onCheckRoot.apply(l,[e,s])?(void 0===e._level&&(e._level=0),a.apply(l,[e,t,s,o]),!0):!1:r.apply(l,Array.prototype.slice.apply(arguments))}}(jQuery);